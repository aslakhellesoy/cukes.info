<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>{{ page.title }}</title>
  <meta name="author" content="Aslak HellesÃ¸y" />
  <link href="http://feeds.feedburner.com/cucumber" rel="alternate" title="Cucumber" type="application/atom+xml" />

  <link type="text/css" href="http://jquery-ui.googlecode.com/svn/tags/1.7.2/themes/base/ui.all.css" rel="stylesheet" />

  <!-- syntax highlighting CSS -->
  <link rel="stylesheet" href="/css/gherkin-black-pygments.css" type="text/css" />

  <!-- Homepage CSS -->
  <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />

  <script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAA6DPg5pGtbIQtl485WvgwIBRniMH3skvmxRKEG0g0WDQPpYX9BhSqyMSqzQtkM1HoNHHVrNjncozwkg"></script>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js"></script>
  <script type="text/javascript" src="http://plugins.jquery.com/files/jquery.cookie.js.txt"></script>

  <script type="text/javascript">
    google.load("feeds", "1");

    $(document).ready(function(){
      $("#i18n").tabs({
        selected: Math.max(0, $("div#i18n > div").index($(window.location.hash || '#en'))),
        select: function(e, ui) {
          var url = ui.tab.href;
          document.location = url;
          return true;
        }
      });

      function showLanguage(lang) {
        $.each(["ruby", "java", "csharp", "scala", "groovy", "clojure", "js", "ik"], function(i, l) {
          $("." + l).hide();
        });
        $("." + lang).show();

        var date = new Date();
        date.setTime(date.getTime() + (3 * 24 * 60 * 60 * 1000));
        $.cookie('language', lang, { path: '/', expires: date });
      }

      showLanguage($.cookie('language') || "ruby");
      
      $("#language img").click(function(e) {
        showLanguage(e.target.id);
      });
    });

    google.setOnLoadCallback(function() {
      if($('ul#contributors').length > 0) {
        var feed = new google.feeds.Feed("http://pledgie.com/campaigns/7149/donations_feed");
        feed.setNumEntries(500);
        feed.load(function(result) {
          if (!result.error) {
            var container = document.getElementById("feed");
            $.each(result.feed.entries, function() {
              $('ul#contributors').append("<li>" + this.title.replace(/donation from\s+/i, "") + "</li>");
            }); 
          }
        });
      }
    });
  </script>
</head>
<body>

<div class="site">
  <div class="title">
    <a href="/">Cucumber</a>
    <a class="extra" href="/">home</a>
  </div>

  <div id="language">
    <ul>
      <li><img id="ruby" alt="Ruby" src="/images/ruby.png" /></li>
      <li><img id="java" alt="Java" src="/images/java.png" /></li>
      <li><img id="csharp" alt="C#" src="/images/dotnet.png" /></li>
      <li><img id="scala" alt="Scala" src="/images/scala.png" /></li>
      <li><img id="groovy" alt="Groovy" src="/images/groovy.png" /></li>
      <li><img id="clojure" alt="Clojure" src="/images/clojure.png" /></li>
      <li><img id="js" alt="Javascript" src="/images/rhino.png" /></li>
      <li><img id="ik" alt="Ioke" src="/images/ioke.png" /></li>
    </ul>
  </div>
  
  {{ content }}
  
  <div class="footer">
    <div class="rss">
      <a href="http://feeds.feedburner.com/cucumber">
        <img src="/images/rss.png" alt="Subscribe to RSS Feed" />
      </a>
    </div>
  </div>
</div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6729167-1");
pageTracker._trackPageview();
} catch(err) {}</script>

</body>
</html>
